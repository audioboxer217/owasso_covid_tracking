<center><h1>Owasso & Collinsville COVID Numbers</h1></center>

<div class="container">
  <div class="row">
    <div class="column" id="activeChartDiv" style="height: 400px"></div>
    <div class="column" id="newChartDiv" style="height: 400px"></div>
    <div class="column" id="avgChartDiv" style="height: 400px"></div>
    <div class="column" id="totalChartDiv" style="height: 400px"></div>
    <div class="column" id="deathsChartDiv" style="height: 400px"></div>
    <div class="column" id="fatalityChartDiv" style="height: 400px"></div>
  </div> 
</div>
<script>
  fetch('get_numbers/active')
    .then (Response => Response.json())
    .then (data => renderChart(data, "Active Cases", "activeChartDiv"));
  fetch('get_numbers/new')
    .then (Response => Response.json())
    .then (data => renderChart(data, "New Cases", "newChartDiv"));
  fetch('get_numbers/average')
    .then (Response => Response.json())
    .then (data => renderChart(data, "Average New Cases", "avgChartDiv"));
  fetch('get_numbers/total')
    .then (Response => Response.json())
    .then (data => renderChart(data, "Total Cases", "totalChartDiv"));
  fetch('get_numbers/deaths')
    .then (Response => Response.json())
    .then (data => renderChart(data, "Total Deaths", "deathsChartDiv"));

  function renderChart(series, title, chartDiv) {
    JSC.Chart(chartDiv, {
      title_label_text: title,
      annotations: [{
        label_text: 'Source: Oklahoma Health Department',
        position: 'bottom right'
      }],
      legend_visible: true,
      xAxis_crosshair_enabled: true,
      defaultSeries_lastPoint_label_text: '<b>%seriesName</b>',
      defaultPoint_tooltip: '%seriesName <b>%yValue</b>',
      series: series
    });
  }
</script> 